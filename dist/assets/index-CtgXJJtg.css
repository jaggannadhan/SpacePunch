*{margin:0;padding:0;box-sizing:border-box}html,body{width:100%;height:100%;overflow:hidden;background:#000}body{display:flex;justify-content:center;align-items:center;font-family:Courier New,Courier,monospace}canvas{display:block}#hud{position:absolute;top:0;left:0;right:0;bottom:0;pointer-events:none;color:#fff;font-size:14px;z-index:10}.hud-stats{position:absolute;top:12px;left:14px;display:flex;flex-direction:column;gap:2px}.hud-timer,.hud-stage{text-shadow:0 0 4px rgba(0,200,255,.5);letter-spacing:1px}.ultimate-bar{width:140px;height:14px;background:#ffffff1a;border:1px solid rgba(255,165,0,.4);border-radius:3px;overflow:hidden;margin:2px 0}.ultimate-bar-fill{height:100%;width:0%;background:linear-gradient(90deg,#f80,#fa0);border-radius:2px;transition:width .1s linear;box-shadow:0 0 8px #ffa50080}.hud-loot{display:flex;align-items:center;gap:3px;font-size:12px;letter-spacing:.5px;color:#ddd;text-shadow:0 0 4px rgba(255,200,50,.4)}.hud-loot-icon{width:16px;height:16px;object-fit:contain;image-rendering:pixelated;vertical-align:middle;margin-left:4px}.hud-loot-icon:first-child{margin-left:0}.hud-loot-count{min-width:10px}.hud-shield{margin-top:6px;font-size:11px;letter-spacing:1.5px}.shield-bar{display:flex;align-items:center;gap:2px;margin-top:3px}.shield-tick{width:10px;height:6px;border-radius:1px;background:#ffffff1a;transition:background-color .15s ease}.shield-sep{width:1px;height:10px;background:#ffffff4d;margin:0 1px;flex-shrink:0}.ss-status{margin-top:4px;font-size:11px;letter-spacing:1px;color:#4ef;text-shadow:0 0 8px rgba(68,238,255,.6);animation:ssGlow 1.2s ease-in-out infinite alternate}@keyframes ssGlow{0%{opacity:.7;text-shadow:0 0 6px rgba(68,238,255,.4)}to{opacity:1;text-shadow:0 0 12px rgba(68,238,255,.8)}}.blink{animation:timerBlink .3s ease-in-out infinite alternate,timerShake .15s ease-in-out infinite}@keyframes timerBlink{0%{opacity:1;color:#fff}to{opacity:.5;color:#f44}}@keyframes timerShake{0%{transform:translate(0)}25%{transform:translate(-1px,1px)}50%{transform:translate(1px,-1px)}75%{transform:translate(-1px)}to{transform:translate(0)}}.hud-bars-right{position:absolute;right:14px;top:50%;transform:translateY(-50%);display:flex;gap:8px}.combo-bar,.damage-bar{position:relative;width:18px;height:400px;background:#ffffff1a;border:1px solid rgba(255,255,255,.2);border-radius:4px;overflow:hidden;display:flex;flex-direction:column-reverse}.combo-fill{width:100%;height:0%;background:#0cf;transition:height .15s ease;border-radius:0 0 3px 3px}.combo-label{position:absolute;top:-20px;left:50%;transform:translate(-50%);font-size:11px;color:#ccc;text-align:center}.combo-vtext{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);writing-mode:vertical-rl;text-orientation:mixed;font-size:10px;letter-spacing:3px;color:#ffffff40;text-transform:uppercase;pointer-events:none;z-index:1}.damage-fill{width:100%;height:0%;background:#4c4;transition:height .15s ease;border-radius:0 0 3px 3px}.damage-label{position:absolute;top:-20px;left:50%;transform:translate(-50%);font-size:11px;color:#ccc;text-align:center}.damage-vtext{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);writing-mode:vertical-rl;text-orientation:mixed;font-size:10px;letter-spacing:3px;color:#ffffff40;text-transform:uppercase;pointer-events:none;z-index:1}.hud-bottom-left{position:absolute;bottom:14px;left:14px;display:flex;flex-direction:column;align-items:flex-start;gap:6px}.diff-label{font-size:13px;color:#fc0;text-shadow:0 0 6px rgba(255,200,0,.5);letter-spacing:1.5px;text-transform:uppercase}.mute-btn{pointer-events:all;background:#ffffff14;border:1px solid rgba(255,255,255,.15);border-radius:6px;color:#ccc;font-size:18px;width:36px;height:36px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:background .2s}.mute-btn:hover{background:#ffffff26}.settings-btn{pointer-events:all;background:#ffffff14;border:1px solid rgba(255,255,255,.15);border-radius:6px;color:#ccc;font-size:22px;width:36px;height:36px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:background .2s}.settings-btn:hover{background:#ffffff26}.settings-panel{pointer-events:all;position:absolute;bottom:70px;left:14px;background:#0a0a1eeb;border:1px solid rgba(255,255,255,.15);border-radius:8px;padding:14px 16px;width:260px;max-height:420px;overflow-y:auto;display:flex;flex-direction:column;gap:10px;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px)}.sp-title{font-size:13px;color:#aaa;letter-spacing:1.5px;text-transform:uppercase;margin-bottom:2px}.accordion{border:1px solid rgba(255,255,255,.1);border-radius:6px;overflow:hidden}.accordion-header{width:100%;display:flex;align-items:center;gap:8px;padding:8px 10px;background:#ffffff0a;border:none;color:#ccc;font-family:inherit;font-size:12px;cursor:pointer;text-align:left;transition:background .15s}.accordion-header:hover{background:#ffffff14}.accordion-arrow{font-size:9px;color:#888;flex-shrink:0;width:10px}.accordion-label{letter-spacing:1px;text-transform:uppercase}.accordion-body{padding:10px;display:flex;flex-direction:column;gap:8px}.sp-row{display:flex;align-items:center;gap:8px;flex-wrap:wrap}.sp-label{font-size:12px;color:#ccc;flex:1;min-width:100px}.sp-slider{width:80px;accent-color:#00ccff;cursor:pointer}.sp-slider:disabled{opacity:.35;cursor:not-allowed}.sp-val{font-size:12px;color:#0cf;min-width:16px;text-align:center}.sp-toggle{accent-color:#00ccff;cursor:pointer;width:16px;height:16px}.sp-hint{font-size:10px;color:#666;font-style:italic;padding-left:2px}.skins-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:8px}.skin-item{display:flex;flex-direction:column;align-items:center;gap:4px;padding:6px 4px;border:2px solid transparent;border-radius:6px;cursor:pointer;transition:border-color .15s,background .15s}.skin-item:hover{background:#ffffff0f}.skin-item.skin-selected{border-color:#0cf;background:#00ccff14}.skin-thumb{width:40px;height:40px;object-fit:contain;image-rendering:pixelated;border-radius:4px}.skin-thumb-fallback{width:40px;height:40px;background:#ffffff14;border-radius:4px;display:flex;align-items:center;justify-content:center;color:#666;font-size:16px}.skin-name{font-size:10px;color:#aaa;text-align:center;letter-spacing:.5px;max-width:60px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.equip-area{position:absolute;bottom:14px;right:14px;display:flex;flex-direction:column;align-items:flex-end;gap:6px;pointer-events:all}.equip-btn{position:relative;width:40px;height:40px;border-radius:8px;border:1px solid rgba(255,200,50,.4);background:#ffc8321a;color:#fc4;font-size:20px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:background .2s,border-color .2s}.equip-btn:hover{background:#ffc83233;border-color:#ffc83299}.equip-badge{position:absolute;top:-5px;right:-5px;min-width:16px;height:16px;border-radius:8px;background:#f44;color:#fff;font-size:10px;font-weight:700;display:flex;align-items:center;justify-content:center;padding:0 3px;pointer-events:none}.equip-badge-pulse{animation:badgePulse .4s ease-out}@keyframes badgePulse{0%{transform:scale(1)}50%{transform:scale(1.5)}to{transform:scale(1)}}.equip-panel{background:#0a0a1eeb;border:1px solid rgba(255,200,50,.25);border-radius:8px;padding:10px 12px;width:180px;display:flex;flex-direction:column;gap:8px;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px)}.ep-title{font-size:11px;color:#fc4;letter-spacing:2px;text-transform:uppercase;text-align:center}.ep-item-btn{display:flex;align-items:center;gap:8px;padding:8px 10px;background:#ffffff0a;border:1px solid rgba(255,255,255,.12);border-radius:6px;color:#ccc;font-family:inherit;font-size:12px;cursor:pointer;transition:background .15s,border-color .15s}.ep-item-btn:hover:not(:disabled){background:#ffffff1a;border-color:#ffc83266}.ep-item-btn:disabled{opacity:.35;cursor:not-allowed}.ep-item-icon{font-size:16px}.ep-item-label{flex:1;letter-spacing:.5px}.game-over{position:absolute;top:0;left:0;right:0;bottom:0;background:#000c;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:14px;pointer-events:all}.go-title{font-size:36px;color:#f44;text-shadow:0 0 16px rgba(255,60,60,.5);letter-spacing:4px;text-transform:uppercase;margin-bottom:8px}.go-points{font-size:28px;color:#fc0;text-shadow:0 0 10px rgba(255,200,0,.4)}.go-stage{font-size:20px;color:#ccc}.go-retry-btn{margin-top:12px;padding:10px 36px;font-family:inherit;font-size:16px;letter-spacing:2px;text-transform:uppercase;color:#fff;background:#00ccff26;border:2px solid #00ccff;border-radius:8px;cursor:pointer;transition:background .2s,transform .1s}.go-retry-btn:hover:not(:disabled){background:#00ccff4d;transform:scale(1.04)}.go-retry-btn:active:not(:disabled){transform:scale(.97)}.go-retry-btn:disabled{opacity:.4;cursor:not-allowed}.go-restart{font-size:12px;color:#666;margin-top:6px;letter-spacing:1px;animation:restartPulse 1.5s ease-in-out infinite}@keyframes restartPulse{0%,to{opacity:.4}50%{opacity:.8}}.confetti-piece{position:fixed;pointer-events:none;z-index:100;border-radius:1px;animation:confettiBurst .9s ease-out forwards}@keyframes confettiBurst{0%{transform:translate(0) rotate(0) scale(1);opacity:1}70%{opacity:1}to{transform:translate(var(--confetti-dx, 0),var(--confetti-dy, -30px)) rotate(var(--confetti-rot, 360deg)) scale(.3);opacity:0}}.hud-combo-delta{position:absolute;right:100%;top:50%;margin-right:6px;color:#0fc;font-size:13px;font-weight:700;text-shadow:0 0 6px rgba(0,255,200,.6);pointer-events:none;animation:hudComboPop .5s ease-out forwards;white-space:nowrap}@keyframes hudComboPop{0%{transform:translateY(0) scale(1.3);opacity:1}to{transform:translateY(-14px) scale(1);opacity:0}}
